<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>wdcw - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Connector.html">Connector</a><ul class='methods'><li data-type='method'><a href="Connector.html#.getUsername">getUsername</a></li><li data-type='method'><a href="Connector.html#ajaxErrorHandler">ajaxErrorHandler</a></li><li data-type='method'><a href="Connector.html#getAuthPurpose">getAuthPurpose</a></li><li data-type='method'><a href="Connector.html#getConnectionData">getConnectionData</a></li><li data-type='method'><a href="Connector.html#getPassword">getPassword</a></li><li data-type='method'><a href="Connector.html#promiseErrorHandler">promiseErrorHandler</a></li><li data-type='method'><a href="Connector.html#registerDataRetrieval">registerDataRetrieval</a></li><li data-type='method'><a href="Connector.html#setConnectionData">setConnectionData</a></li><li data-type='method'><a href="Connector.html#setPassword">setPassword</a></li><li data-type='method'><a href="Connector.html#setUsername">setUsername</a></li><li data-type='method'><a href="Connector.html#waitForData">waitForData</a></li></ul></li><li><a href="wdcw.html">wdcw</a><ul class='methods'><li data-type='method'><a href="wdcw.html#getConnector">getConnector</a></li><li data-type='method'><a href="wdcw.html#registerData">registerData</a></li><li data-type='method'><a href="wdcw.html#registerPostProcess">registerPostProcess</a></li><li data-type='method'><a href="wdcw.html#registerSchema">registerSchema</a></li><li data-type='method'><a href="wdcw.html#registerSetup">registerSetup</a></li><li data-type='method'><a href="wdcw.html#registerTeardown">registerTeardown</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">wdcw</h1>
    

    




<section>

<header>
    
        <h2>
        wdcw
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="wdcw"><span class="type-signature"></span>new wdcw<span class="signature">(config)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Constructs a new web data connector wrapper object, given a WDC wrapper
configuration object.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="wdcw.html#~config">wdcw~config</a></span>


            
            </td>

            

            

            <td class="description last"><p>Declarative configuration representing your connector.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="wdcw.js.html">wdcw.js</a>, <a href="wdcw.js.html#line49">line 49</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="wdcw.html#~config">wdcw~config</a></li>
        </ul>
    </dd>
    

    
</dl>















    <h5>Examples</h5>
    
        <p class="code-caption">Declaratively instantiate a WDC Wrapper.</p>
    
    <pre class="prettyprint"><code>var wrapper = new wdcw({
  name: 'My Web Data Connector',
  schema: function () {
    return Promise.all([
      $.getJSON('/schema/table1.json'),
      $.getJSON('/schema/table2.json')
    ]);
  }
});</code></pre>

        <p class="code-caption">Instantiate a wrapper, then chain the definition.</p>
    
    <pre class="prettyprint"><code>var wrapper = new wdcw({name: 'My Web Data Connector'});
wrapper.registerSchema(function() {
  return Promise.all([
    $.getJSON('/schema/table1.json'),
    $.getJSON('/schema/table2.json')
  ]);
});</code></pre>



    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="getConnector"><span class="type-signature"></span>getConnector<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="Connector.html">Connector</a>}</span></h4>

    



<div class="description">
    <p>Return the wrapped, native connector. Useful for debugging.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="wdcw.js.html">wdcw.js</a>, <a href="wdcw.js.html#line128">line 128</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The wrapped, native web data connector.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Connector.html">Connector</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="registerData"><span class="type-signature"></span>registerData<span class="signature">(tableId, dataRetrievalFunction)</span><span class="type-signature"> &rarr; {<a href="wdcw.html">wdcw</a>}</span></h4>

    



<div class="description">
    <p>Register custom data retrieval logic for a particular table on the connector.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tableId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The table ID (as returned in your schemaFunction)
  associated with the data you are returning in your dataFunction.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dataRetrievalFunction</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="wdcw.html#~dataRetrieval">wdcw~dataRetrieval</a></span>


            
            </td>

            

            

            <td class="description last"><p>A function that
  encapsulates data retrieval logic for a particular table provided by your
  connector. @see wdcw~dataRetrieval</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="wdcw.js.html">wdcw.js</a>, <a href="wdcw.js.html#line192">line 192</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Returns itself (useful for chaining).</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="wdcw.html">wdcw</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="registerPostProcess"><span class="type-signature"></span>registerPostProcess<span class="signature">(tableId, postProcessFunction)</span><span class="type-signature"> &rarr; {<a href="wdcw.html">wdcw</a>}</span></h4>

    



<div class="description">
    <p>Register custom post-processing logic for a particular table on the connector.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tableId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The table ID (as returned in your schemaFunction)
  associated with the data you are transforming or filtering in your
  postProcessFunction.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>postProcessFunction</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="wdcw.html#~postProcess">wdcw~postProcess</a></span>


            
            </td>

            

            

            <td class="description last"><p>A function that encapsulates
  data post-processing logic for a particular table provided by your
  connector. @see wdcw~postProcess</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="wdcw.js.html">wdcw.js</a>, <a href="wdcw.js.html#line217">line 217</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Returns itself (useful for chaining).</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="wdcw.html">wdcw</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="registerSchema"><span class="type-signature"></span>registerSchema<span class="signature">(schemaRetrievalFunction)</span><span class="type-signature"> &rarr; {<a href="wdcw.html">wdcw</a>}</span></h4>

    



<div class="description">
    <p>Register custom schema retrieval logic on the connector.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>schemaRetrievalFunction</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="wdcw.html#~schemaRetrieval">wdcw~schemaRetrieval</a></span>


            
            </td>

            

            

            <td class="description last"><p>A function that
  encapsulates schema retrieval logic for your connector.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="wdcw.js.html">wdcw.js</a>, <a href="wdcw.js.html#line173">line 173</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="wdcw.html#~schemaRetrieval">wdcw~schemaRetrieval</a></li>
        </ul>
    </dd>
    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Returns itself (useful for chaining).</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="wdcw.html">wdcw</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="registerSetup"><span class="type-signature"></span>registerSetup<span class="signature">(setupFunction)</span><span class="type-signature"> &rarr; {<a href="wdcw.html">wdcw</a>}</span></h4>

    



<div class="description">
    <p>Register custom initialization logic on the connector.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>setupFunction</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="wdcw.html#~connectorSetup">wdcw~connectorSetup</a></span>


            
            </td>

            

            

            <td class="description last"><p>A function that encapsulates all
  setup logic for your connector. @see wdcw~connectorSetup</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="wdcw.js.html">wdcw.js</a>, <a href="wdcw.js.html#line142">line 142</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Returns itself (useful for chaining).</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="wdcw.html">wdcw</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="registerTeardown"><span class="type-signature"></span>registerTeardown<span class="signature">(shutdownFunction)</span><span class="type-signature"> &rarr; {<a href="wdcw.html">wdcw</a>}</span></h4>

    



<div class="description">
    <p>Register custom shutdown logic on the connector.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>shutdownFunction</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="wdcw.html#~connectorTeardown">wdcw~connectorTeardown</a></span>


            
            </td>

            

            

            <td class="description last"><p>A function that encapsulates
  all teardown logic for your connector. @see wdcw~connectorTeardown</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="wdcw.js.html">wdcw.js</a>, <a href="wdcw.js.html#line157">line 157</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Returns itself (useful for chaining).</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="wdcw.html">wdcw</a></span>


    </dd>
</dl>

    



        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                
<h4 class="name" id="~config">config</h4>




<div class="description">
    <p>A configuration object used to instantiate wrapped Web Data Connectors. You
may choose to provide all details on this configuration object or omit them
and use the various methods on the wdcw class to build your connector.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last"><p>The name of your web data connector as it should appear in Tableau.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>authType</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last"><p>The type of authentication that your connector uses. One of:</p>
<ul>
<li>none: this value is assumed if you don't provide one.</li>
<li>basic: this will cause Tableau to show a username/password connection
dialogue to users in some refresh scenarios.</li>
<li>custom: this will let Tableau know to call your connector in an &quot;auth&quot;
phase if it needs to (rather than showing the basic auth dialogue).</li>
</ul></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>setup</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="wdcw.html#~connectorSetup">wdcw~connectorSetup</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last"><p>Callback method used to register custom initialization logic for your
  connector. If you do not provide one here, you may optionally provide one
  via wdcw#conectorSetup.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>teardown</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="wdcw.html#~connectorTeardown">wdcw~connectorTeardown</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last"><p>Callback method used to register custom shutdown logic for your connector.
  If you do not provide on here, you may optionally provide one via
  wdcw#connectorTeardown.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>schema</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="wdcw.html#~schemaRetrieval">wdcw~schemaRetrieval</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last"><p>Callback method used to retrieve schema details for your connector. If you
  do not provide one here, you must provide one via <a href="wdcw.html#registerSchema">wdcw#registerSchema</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>tables</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last"><p>An object with as many properties as your data source provides tables. Its
  keys represent table IDs. Rather than declaring them here, you may wish to
  use the <a href="wdcw.html#registerData">wdcw#registerData</a> or <a href="wdcw.html#registerPostProcess">wdcw#registerPostProcess</a>
  methods.</p>
                <h6>Properties</h6>

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tableId</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Here, &quot;tableId&quot; is just an example; it should be the actual ID used to
  identify a table in your connector's schema retrieval method via
  wdcw#schemaRetrieval. You should have as many keys here as your
  connector provides tables.</p>
                <h6>Properties</h6>

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>getData</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="wdcw.html#~dataRetrieval">wdcw~dataRetrieval</a></span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last"><p>Nested under each table ID, you must provide a data retrieval method on the
  getData property.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>postProcess</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="wdcw.html#~postProcess">wdcw~postProcess</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last"><p>You may optionally provide a method for post-processing, filtering, and any
  other data transformation needs you may have on the postProcess method.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="connector_typedefs_wdcwConfig.js.html">connector/typedefs/wdcwConfig.js</a>, <a href="connector_typedefs_wdcwConfig.js.html#line2">line 2</a>
    </li></ul></dd>
    

    

    

    
</dl>





    <h5>Examples</h5>
    
    <pre class="prettyprint"><code>&lt;caption>All of the basics&lt;caption>
wdcw({
  name: 'My Web Data Connector',
  authType: 'basic',
  schema: function () {},
  tables: {
    tableOne: {
      getData: function (lastRecordToken) {},
      postProcess: function (tableOneData) {}
    }
  }
});</code></pre>

        <p class="code-caption">Using helper methods</p>
    
    <pre class="prettyprint"><code>wdcw({name: 'My Web Data Connector'})
  .registerSchema(function () {})
  .registerData('tableOne', function (lastRecordToken) {})
  .registerPostProcess('tableOne', function (tableOneData) {});</code></pre>



            
                

    

    <h4 class="name" id="~connectorSetup"><span class="type-signature"></span>connectorSetup<span class="signature">(phase)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    <p>Should return a promise that resolves once initialization / setup logic is
complete.</p>
</div>







    <h5>This:</h5>
    <ul><li><a href="Connector.html">Connector</a></li></ul>



    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>phase</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The phase of the Web Data Connector lifecycle that the connector is currently
  in. One of: auth, interactive, or gatherData.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="connector_userMethods_connectorSetup.js.html">connector/userMethods/connectorSetup.js</a>, <a href="connector_userMethods_connectorSetup.js.html#line2">line 2</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">Basic auth phase example</p>
    
    <pre class="prettyprint"><code>function setupCallback(phase) {
  // If we are in the auth phase we only want to show the UI needed for auth
  if (phase === 'auth') {
    $('input, textarea, select').not('.auth-field').css('display', 'none');
  }

  return Promise.resolve();
}</code></pre>



            
                

    

    <h4 class="name" id="~connectorTeardown"><span class="type-signature"></span>connectorTeardown<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    <p>Should return a promise that resolves once shutdown / end-of-request logic is
complete.</p>
</div>







    <h5>This:</h5>
    <ul><li><a href="Connector.html">Connector</a></li></ul>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="connector_userMethods_connectorTeardown.js.html">connector/userMethods/connectorTeardown.js</a>, <a href="connector_userMethods_connectorTeardown.js.html#line2">line 2</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>function teardownCallback() {
  // Custom shutdown function here.
  return Promise.resolve();
}</code></pre>



            
                

    

    <h4 class="name" id="~dataRetrieval"><span class="type-signature"></span>dataRetrieval<span class="signature">(lastRecordToken<span class="signature-attributes">nullable</span>, tableDependencyData, appendRows)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;Array.&lt;any>>>|null}</span></h4>

    



<div class="description">
    <p>Should always return a promise which resolves when data retrieval for the
given table is complete. The data passed back when resolved can vary
depending on your use-case, see below.</p>
</div>







    <h5>This:</h5>
    <ul><li><a href="Connector.html">Connector</a></li></ul>



    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>lastRecordToken</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last"><p>If this table supports incremental refreshes, the first argument will be
  the last value/record of this table's incrementColumnId column. If your
  table does not support incremental refreshes or if the execution context is
  not an incremental refresh, this parameter will be null.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>tableDependencyData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Array.&lt;any>></span>
|

<span class="param-type">null</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>If you specified an array of tables that this table depends on (via the
  dependsOn key in this table's schema definition), then this argument will
  be populated with table data for each dependency. The top layer of arrays
  will respect the order in which you specified the dependencies in your
  schema, underneath which the actual table data resides. If your table does
  not depend on the table data of other tables, this parameter will be null.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>appendRows</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>In some cases (for example, if you are dealing with a very large number of
  records), for performance or resource usage reasons, you may wish to bypass
  the WDC Wrapper's data handling and write data directly to Tableau. If this
  fits your use-case, you may use this function to do so; it is identical to
  the Table.appendRows method in the native Tableau WDC API's getData method.
  Note that if you use this, you'll want to resolve this method with no data,
  otherwise your data may be duplicated.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="connector_userMethods_dataRetrieval.js.html">connector/userMethods/dataRetrieval.js</a>, <a href="connector_userMethods_dataRetrieval.js.html#line2">line 2</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>In most cases, this promise should resolve with data in the format exactly
  as expected by Tableau in the Table.appendRows method of the native Tableau
  WDC API. Before being written to Tableau, data resolved here will be passed
  directly to the post processing method you have registered with this table.
  If you made use of the appendRows parameter to write data to Tableau
  directly, you should return NULL here so that the WDC Wrapper does not do
  any additional data writing to Tableau.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;Array.&lt;any>>></span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    


    <h5>Examples</h5>
    
        <p class="code-caption">Simple data retrieval</p>
    
    <pre class="prettyprint"><code>function dataCallbackForSomeTable() {
  var connector = this,
      filterVal = connector.getConnectionData().filter;

  return $.when($.getJSON('/path/to/resource.json?filter=' + filterVal));
}</code></pre>

        <p class="code-caption">Incremental refresh</p>
    
    <pre class="prettyprint"><code>function dataCallbackForSomeTable(lastRecordToken) {
  return $.when($.getJSON('/path/to/resource.json?afterRecord=' + lastRecordToken));
}</code></pre>

        <p class="code-caption">Data retrieval for a table that depends on another</p>
    
    <pre class="prettyprint"><code>function dataCallbackForSomeTable(lastRecordToken, tableDependencyData) {
  var keysFromFirstTable = [];

  // Aggregate some foreign key values from the dependency.
  tableDependencyData[0].forEach(function (row) {
    keysFromFirstTable = keysFromFirstTable.concat(row.other_ids);
  });

  // Retrieve data based on those keys.
  return $.when($.getJSON('/path/to/resource.json?keysIn=' + keysFromFirstTable.join(',')));
}</code></pre>

        <p class="code-caption">For extremely large data sets</p>
    
    <pre class="prettyprint"><code>function dataCallbackForSomeTable(lastRecordToken, tableDependencyData, appendRows) {
  var allRowsLoaded = [],
      i;

  // Iterate through some huge amount of data.
  for (i=0; i &lt; 10000; i++) {
    // Keep track of when each AJAX request completes.
    allRowsLoaded[i] = $.getJSON('/path/to/resource.json?page=' + i, function (response) {
      // As soon as we have the data, write it directly to Tableau.
      appendRows(response.data);
    });
  }

  // Resolves a value-less "promise" once all page deferreds are resolved.
  return $.when(allRowsLoaded);
}</code></pre>



            
                

    

    <h4 class="name" id="~postProcess"><span class="type-signature"></span>postProcess<span class="signature">(tableData)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;Array.&lt;any>>>|null}</span></h4>

    



<div class="description">
    <p>Function called once all data for a given table has been retrieved. Can be
used to transform, filter, or append data for the given table. Should return
a promise that resolves to data in the format exactly as expected by Tableau
in the Table.appendRows method of the native Tableau WDC API.</p>
</div>







    <h5>This:</h5>
    <ul><li><a href="Connector.html">Connector</a></li></ul>



    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tableData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Array.&lt;any>></span>
|

<span class="param-type">null</span>


            
            </td>

            

            

            <td class="description last"><p>Contains data as resolved by your table's corresponding dataRetrieval
  method. In some exotic use-cases, you may wish for your dataRetrieval to
  resolve to &quot;raw&quot; data in a format not expected by Tableau, but then to
  process and re-shape the data here into the format expected by Tableau.
  This would allow any tables you've declared that depend on this table to
  base their data retrieval on the raw data while Tableau gets the properly
  formatted version.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="connector_userMethods_postProcess.js.html">connector/userMethods/postProcess.js</a>, <a href="connector_userMethods_postProcess.js.html#line2">line 2</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>This promise should resolve with data in the format exactly as expected by
  Tableau in the Table.appendRows method of the native Tableau WDC API.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;Array.&lt;any>>></span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    


    <h5>Examples</h5>
    
        <p class="code-caption">Simple data filtering</p>
    
    <pre class="prettyprint"><code>function postProcessCallback(data) {
  var transformedData = [];

  // Only write odd-indexed row data to Tableau.
  data.forEach(function (row, index) {
    if (index % 2) {
      transformedData.push(row);
    }
  });

  return Promise.resolve(transformedData);
}</code></pre>

        <p class="code-caption">Reverse your data</p>
    
    <pre class="prettyprint"><code>function postProcessCallback(data) {
  return Promise.resolve(data.reverse());
}</code></pre>



            
                

    

    <h4 class="name" id="~schemaRetrieval"><span class="type-signature"></span>schemaRetrieval<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;Array.TableInfo>}</span></h4>

    



<div class="description">
    <p>Should return a promise to an array of native Tableau TableInfo objects.</p>
</div>







    <h5>This:</h5>
    <ul><li><a href="Connector.html">Connector</a></li></ul>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="connector_userMethods_schemaRetrieval.js.html">connector/userMethods/schemaRetrieval.js</a>, <a href="connector_userMethods_schemaRetrieval.js.html#line2">line 2</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.TableInfo></span>


    </dd>
</dl>

    


    <h5>Examples</h5>
    
        <p class="code-caption">Simple, static schema declaration.</p>
    
    <pre class="prettyprint"><code>function schemaCallback() {
  return Promise.resolve([{
    "defaultAlias": "Table Name",
    "description": "Description of table.",
    "id": "tablename",
    "columns": [
      // Columns here...
    ]
  }]);
}</code></pre>

        <p class="code-caption">Load schema from JSON asynchronously.</p>
    
    <pre class="prettyprint"><code>function schemaCallback() {
  return Promise.all([
    $.getJSON('/schema/for/table-name.json'),
    $.getJSON('/schema/for/another-table.json')
  ]);
}</code></pre>



            
    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Sun Jun 12 2016 18:05:09 GMT-0700 (PDT) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>